<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/common/template :: header(~{::title},~{::link},~{::style})">
    <link rel="stylesheet" th:href="@{/css/plugins/bootstrap-table/bootstrap-table.min.css}">

    <link th:href="@{/js/plugins/gritter/jquery.gritter.css}" rel="stylesheet">
</head>
<body class="gray-bg">
<div class="row">
    <div class="col-sm-12">
        <div class="tabs-container">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#tab-1" aria-expanded="true">人脸就参数配置</a>
                </li>
                <li class=""><a data-toggle="tab" href="#tab-2" aria-expanded="false">控制器配置</a>
                </li>
                <li class=""><a data-toggle="tab" href="#tab-3" aria-expanded="false">通道配置</a>
                </li>
            </ul>
            <div class="tab-content">
                <div id="tab-1" class="tab-pane active">
                    <div class="wrapper wrapper-content  animated fadeInRight">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>设备列表</h5>
                                    </div>
                                    <div class="ibox-content">
                                        <div class="example-wrap">
                                            <div class="example">
                                                <div class="btn-group hidden-xs" id="exampleTableEventsToolbar"
                                                     role="group">
                                                    <button class="btn btn-outline btn-default" id="tj"
                                                            type="button">
                                                        <i aria-hidden="true" class="glyphicon glyphicon-plus"></i>添加
                                                    </button>
                                                    <button class="btn btn-outline btn-default" type="button">
                                                        <i aria-hidden="true" class="glyphicon glyphicon-edit"></i>编辑
                                                    </button>
                                                    <button class="btn btn-outline btn-default" type="button">
                                                        <i aria-hidden="true" class="glyphicon glyphicon-trash"></i>删除
                                                    </button>
                                                </div>
                                                <table data-height="400" data-mobile-responsive="true"
                                                       id="management">
                                                    <thead>
                                                    <tr>
                                                        <th data-checkbox="true" data-field="state"></th>
                                                        <th data-field="id">ID</th>
                                                        <th data-field="name">设备名称</th>
                                                        <th data-field="ip">IP地址</th>
                                                        <th data-field="sn">SN号</th>
                                                        <th data-field="pas">密码</th>
                                                        <th data-field="type">类型</th>
                                                        <th data-field="model">型号</th>
                                                    </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="ibox float-e-margins no-drop">
                                    <div class="ibox-title">
                                        <h5>设备参数</h5>
                                    </div>
                                    <div class="ibox-content">
                                        <div class="tabs-container">

                                            <div class="tabs-left">
                                                <ul class="nav nav-tabs">
                                                    <li class="active"><a data-toggle="tab" href="#tab-8">网络参数</a>
                                                    </li>
                                                    <li class=""><a data-toggle="tab" href="#tab-9">基本参数</a>
                                                    </li>
                                                    <li class=""><a data-toggle="tab" href="#tab-10">回调参数</a>
                                                    </li>
                                                    <li class=""><a data-toggle="tab" href="#tab-11">显示参数</a>
                                                    </li>
                                                    <li class=""><a data-toggle="tab" href="#tab-12">远程操作</a>
                                                    </li>
                                                </ul>
                                                <div class="tab-content ">
                                                    <div id="tab-8" class="tab-pane active">
                                                        <div class="panel-body">
                                                            <form class="form-inline" id="fPas">
                                                                <input type="text" id="zIP" style="display:none;">
                                                                <fieldset>
                                                                    <legend>修改密码</legend>
                                                                    <div class="form-group">
                                                                        <label>原密码:</label>
                                                                        <input type="text" class="form-control"
                                                                               id="pas" name="pas"
                                                                               placeholder="原密码">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>新密码:</label>
                                                                        <input class="form-control"
                                                                               id="pas2" name="pas2"
                                                                               placeholder="新密码"
                                                                               type="text">
                                                                    </div>
                                                                </fieldset>
                                                                <div class="form-group">
                                                                    <button class="btn btn-primary" type="button"
                                                                            id="updateP">确认修改
                                                                    </button>
                                                                </div>
                                                            </form>

                                                            <form class="form-inline" id="formNetInfo">
                                                                <fieldset>
                                                                    <legend>修改网络参数</legend>
                                                                    <div class="form-group">
                                                                        <label>设备IP:</label>
                                                                        <input type="text" class="form-control"
                                                                               id="ip" name="ip"
                                                                               placeholder="设备ip">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>子网掩码:</label>
                                                                        <input class="form-control"
                                                                               id="subnetMask" name="subnetMask"
                                                                               value="255.255.255.0"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>网关:</label>
                                                                        <input class="form-control"
                                                                               id="gateway" name="gateway"
                                                                               placeholder="网关"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>DNS:</label>
                                                                        <input class="form-control"
                                                                               id="dns" name="dns"
                                                                               value="8.8.8.8"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="control-label">IP获取模式</label>

                                                                        <select class="form-control m-b"
                                                                                name="isDHCPMod">
                                                                            <option value="2">手动设置</option>
                                                                            <option value="1">自动获取</option>
                                                                        </select>
                                                                    </div>
                                                                </fieldset>
                                                                <div class="form-group">
                                                                    <button class="btn btn-primary" id="setNetInfo"
                                                                            type="button">确认修改
                                                                    </button>
                                                                </div>
                                                            </form>

                                                            <form class="form-inline" id="fsetWifi">
                                                                <fieldset>
                                                                    <legend>修改WIFI参数</legend>
                                                                    <div class="form-group">
                                                                        <label>wifi名称:</label>
                                                                        <input type="text" class="form-control"
                                                                               id="wifi"
                                                                               placeholder="wifi名称:">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>wifi密码:</label>
                                                                        <input class="form-control"
                                                                               id="wifiP"
                                                                               placeholder="wifi密码"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>IP:</label>
                                                                        <input class="form-control"
                                                                               id="wifiIp"
                                                                               placeholder="ip"
                                                                               type="text">
                                                                    </div>
                                                                </fieldset>
                                                                <div class="form-group">
                                                                    <button class="btn btn-primary" id="setWifi"
                                                                            type="button">确认修改
                                                                    </button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <div id="tab-9" class="tab-pane">
                                                        <div class="panel-body">
                                                            <form class="form-inline" id="fsetConfig">
                                                                <fieldset>
                                                                    <legend>修改设备参数</legend>
                                                                    <div class="form-group">
                                                                        <label>设备名称:</label>
                                                                        <input type="text" class="form-control"
                                                                               id="companyName" name="companyName"
                                                                               placeholder="公司名称">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>识别距离:</label>
                                                                        <select class="form-control m-b"
                                                                                name="identifyDistance">
                                                                            <option value="0">无限制</option>
                                                                            <option value="1">0.5米以内</option>
                                                                            <option value="2">1米以内</option>
                                                                            <option value="3">1.5米以内</option>
                                                                            <option value="4">2米以内</option>
                                                                            <option value="5">3米以内</option>
                                                                            <option value="6">4米以内</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>识别分数:</label>
                                                                        <input class="form-control"
                                                                               name="identifyScores"
                                                                               placeholder="识别分数"
                                                                               type="number" max="100" min="60"
                                                                               value="80">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>识别间隔:</label>
                                                                        <input class="form-control"
                                                                               id="saveIdentifyTime"
                                                                               name="saveIdentifyTime"
                                                                               placeholder="识别间隔"
                                                                               type="number" min="0" value="0">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>语音模式类型:</label>
                                                                        <select class="form-control m-b"
                                                                                name="ttsModType">
                                                                            <option value="1">不需要语音播报</option>
                                                                            <option value="2">播报名字</option>
                                                                            <option value="100">自定义</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>语音自定义:</label>
                                                                        <input class="form-control"
                                                                               id="ttsModContent" name="ttsModContent"
                                                                               placeholder="语音自定义"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>屏幕显示模式:</label>
                                                                        <select class="form-control m-b"
                                                                                name="displayModType">
                                                                            <option value="1">显示名字</option>
                                                                            <option value="100">自定义</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>屏幕显示自定义:</label>
                                                                        <input class="form-control"
                                                                               name="displayModContent"
                                                                               placeholder="屏幕显示自定义"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>串口模式:</label>
                                                                        <select class="form-control m-b"
                                                                                name="comModType">
                                                                            <option value="1">开门</option>
                                                                            <option value="2">不输出</option>
                                                                            <option value="3">输出人员id</option>
                                                                            <option value="4">输出身份证/IC卡号idcardNum，
                                                                            </option>
                                                                            <option value="100">自定义</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>串口自定义:</label>
                                                                        <input class="form-control"
                                                                               name="comModContent"
                                                                               placeholder="串口自定义"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>韦根输出:</label>
                                                                        <input class="form-control"
                                                                               name="wg"
                                                                               placeholder="韦根输出"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>标语:</label>
                                                                        <input type="text" class="form-control"
                                                                               name="slogan"
                                                                               placeholder="标语">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>公司简介:</label>
                                                                        <input class="form-control"
                                                                               name="intro"
                                                                               placeholder="公司简介"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>陌生人开关:</label>
                                                                        <select class="form-control m-b"
                                                                                name="recStrangerType">
                                                                            <option value="1">不识别陌生人</option>
                                                                            <option value="2">识别陌生人</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>陌生人识别时间:</label>
                                                                        <select class="form-control m-b"
                                                                                name="recStrangerTimesThreshold">
                                                                            <option value="3">默认</option>
                                                                            <option value="2">一般</option>
                                                                            <option value="1">快速</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>陌生人语音模式:</label>
                                                                        <select class="form-control m-b"
                                                                                name="ttsModStrangerType">
                                                                            <option value="1">不需要语音播报</option>
                                                                            <option value="2">陌生人警报</option>
                                                                            <option value="100">自定义</option>
                                                                        </select>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label>陌生人语音自定义:</label>
                                                                        <input class="form-control"
                                                                               name="ttsModStrangerContent"
                                                                               placeholder="陌生人语音自定义"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>多个人脸检测设置:</label>
                                                                        <select class="form-control m-b"
                                                                                name="multiplayerDetection">
                                                                            <option value="1">检测多个人脸并进行识别</option>
                                                                            <option value="2">只检测多个人脸中最大的人脸</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>识别等级:</label>
                                                                        <select class="form-control m-b"
                                                                                name="recRank">
                                                                            <option value="1">识别速度最快，精确率最低</option>
                                                                            <option value="2">识别速度较快，精确率较高</option>
                                                                            <option value="3">识别速度较慢，精确度最高</option>
                                                                        </select>
                                                                    </div>

                                                                </fieldset>
                                                                <div class="form-group">
                                                                    <button class="btn btn-primary" type="button"
                                                                            id="setConfig">确认修改
                                                                    </button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <div id="tab-10" class="tab-pane">
                                                        <div class="panel-body">
                                                            <form class="form-inline" id="setIdentifyCallBack">
                                                                <fieldset>
                                                                    <legend>设置回调地址</legend>
                                                                    <div class="form-group">
                                                                        <label>识别回调地址:</label>
                                                                        <input type="text" class="form-control"
                                                                               name="callbackUrl"
                                                                               placeholder="设备回调地址">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>设备心跳地址:</label>
                                                                        <input class="form-control"
                                                                               name="url"
                                                                               placeholder="设备心跳地址"
                                                                               type="text">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label>拍照注册地址:</label>
                                                                        <input class="form-control"
                                                                               name="urlImg"
                                                                               placeholder="拍照注册地址"
                                                                               type="text">
                                                                    </div>
                                                                </fieldset>
                                                                <div class="form-group">
                                                                    <button class="btn btn-primary" type="button"
                                                                            id="setICB">确认修改
                                                                    </button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <div id="tab-11" class="tab-pane">
                                                        <div class="panel-body">
                                                            <div class="col-sm-12">
                                                                <div class="col-sm-6">
                                                                    <form class="form-inline" id="setScreenOrt">
                                                                        <fieldset>
                                                                            <legend>屏幕方向</legend>
                                                                            <div class="form-group">
                                                                                <label>识别回调地址:</label>
                                                                                <select class="form-control m-b"
                                                                                        name="orientation">
                                                                                    <option value="1">横屏</option>
                                                                                    <option value="2">竖屏</option>
                                                                                </select>
                                                                            </div>
                                                                        </fieldset>
                                                                        <div class="form-group">
                                                                            <button class="btn btn-primary" id="setSO"
                                                                                    type="button">确认修改
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                                <div class="col-sm-6">

                                                                    <form class="form-inline" id="changeLogo">
                                                                        <fieldset>
                                                                            <legend>修改Log</legend>
                                                                            <div class="col-sm-6">
                                                                                <div style="position: relative;"
                                                                                     id="ccc">
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-6">
                                                                                <div class="form-group">
                                                                                    <input onchange="FirstImg()"
                                                                                           name="firstImg" value="123"
                                                                                           style="opacity:0;position:absolute"
                                                                                           type="file" id="FirstfileImg"
                                                                                           multiple="">
                                                                                    选择log照片
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <button class="btn btn-primary"
                                                                                            type="button" id="changeL">
                                                                                        修改Log
                                                                                    </button>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <button class="btn btn-primary"
                                                                                            type="submit">清除Log
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </fieldset>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12">
                                                                <fieldset>
                                                                    <legend>大屏幕显示模式及背景图配置</legend>

                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <label>显示模式:</label>
                                                                            <select class="form-control m-b"
                                                                                    name="screenMode">
                                                                                <option value="1">传统模式</option>
                                                                                <option value="2">自定义大屏背景模式</option>
                                                                            </select>
                                                                        </div>
                                                                        <button type="button"></button>
                                                                    </div>

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <button class="btn btn-primary"
                                                                                    type="submit">选择log照片
                                                                            </button>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <button class="btn btn-primary"
                                                                                    type="submit">修改Log
                                                                            </button>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <button class="btn btn-primary"
                                                                                    type="submit">清除Log
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                </fieldset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="tab-12" class="tab-pane">
                                                        <div class="panel-body">
                                                            序列号<input type="text" id="getDeviceKeyt">
                                                            <button id="getDeviceKey">读取序列号</button>
                                                            <br>
                                                            <button class="btn btn-primary"
                                                                    id="setTime">设置时间
                                                            </button>
                                                            <button class="btn btn-primary"
                                                                    id="restartDevice">重启设备
                                                            </button>
                                                            <button class="btn btn-primary"
                                                                    type="submit">重置设备
                                                            </button>
                                                            <button class="btn btn-primary"
                                                                    id="deviceOpenDoorControl">远程开门
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
                <div id="tab-2" class="tab-pane">
                    <div class="panel-body">
                        <div class="col-sm-6">
                            <div class="ibox float-e-margins">
                                <div class="ibox-title">
                                    <h5>设备列表</h5>
                                </div>
                                <div class="ibox-content">
                                    <div class="example-wrap">
                                        <div class="example">
                                            <div class="btn-group hidden-xs" id="exampleTableEventsToolbar1"
                                                 role="group">
                                                <button class="btn btn-outline btn-default" id="parentIframe"
                                                        type="button">
                                                    <i aria-hidden="true" class="glyphicon glyphicon-plus"></i>添加
                                                </button>
                                                <button class="btn btn-outline btn-default" type="button">
                                                    <i aria-hidden="true" class="glyphicon glyphicon-edit"></i>编辑
                                                </button>
                                                <button class="btn btn-outline btn-default" type="button">
                                                    <i aria-hidden="true" class="glyphicon glyphicon-trash"></i>删除
                                                </button>
                                            </div>
                                            <table data-height="400" data-mobile-responsive="true"
                                                   id="exampleTableEvents1">
                                                <thead>
                                                <tr>
                                                    <th data-checkbox="true" data-field="state"></th>
                                                    <th data-field="id">ID</th>
                                                    <th data-field="type">设备名称</th>
                                                    <th data-field="username">IP地址</th>
                                                    <th data-field="password">SN号</th>
                                                    <th data-field="username">密码</th>
                                                    <th data-field="password">类型</th>
                                                    <th data-field="username">型号</th>
                                                </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="tab-3" class="tab-pane">
                    <div class="panel-body">
                        <strong>移动设备优先</strong>
                        <p></p>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
<!-- 全局js -->
<script th:src="@{/js/jquery.min.js?v=2.1.4}"></script>
<script th:src="@{/js/bootstrap.min.js?v=3.3.6}"></script>
<!-- 自定义js -->
<script th:src="@{/js/content.js?v=1.0.0}"></script>


<!-- Bootstrap table -->
<script th:src="@{/js/plugins/bootstrap-table/bootstrap-table.min.js}"></script>
<script th:src="@{/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js}"></script>
<script th:src="@{/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js}"></script>

<!-- GITTER -->
<script th:src="@{/js/plugins/gritter/jquery.gritter.min.js}"></script>

<!-- layer javascript -->
<script th:src="@{/js/plugins/layer/layer.min.js}"></script>
<script>
$(document).ready(function(){
    $("#parentIframe").click(function(){
        //iframe层-父子操作
        layer.open({
          type: 2,
          title: '添加',
          area: ['600px', '550px'],
          fixed: false, //不固定
          maxmin: true,
          content: '/project/addSubpackage'
        });
    });

    $("#updateP").click(function(){
            var tmpInput=$("<input type='text' name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          $('#fPas').append(tmpInput);
        $.post("/device/updatePas", $('#fPas').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });

    $("#setNetInfo").click(function(){
        var tmpInput=$("<input type='text' name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          $('#formNetInfo').append(tmpInput);
        $.post("/device/setNetInfo", $('#formNetInfo').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });

    $("#setWifi").click(function(){
        var tmpInput=$("<input type='text' name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          $('#fsetWifi').append(tmpInput);
        $.post("/device/setWifi", $('#fsetWifi').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#setConfig").click(function(){
        var tmpInput=$("<input type='text' name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          $('#fsetConfig').append(tmpInput);
        $.post("/device/setConfig", $('#fsetConfig').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#setICB").click(function(){
        var tmpInput=$("<input type='text' name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          $('#setIdentifyCallBack').append(tmpInput);
        $.post("/device/setIdentifyCallBack", $('#setIdentifyCallBack').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#setSO").click(function(){
        var tmpInput=$("<input type='text' name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          $('#setScreenOrt').append(tmpInput);
        $.post("/device/setScreenOrt", $('#setScreenOrt').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#changeL").click(function(){
        var tmpInput=$("<input type='text'  name='ip' style='display:none;'/>");
          tmpInput.attr("value", $("#zIP").val());
          alert($("#zIP").val());
          $('#changeLogo').append(tmpInput);

        var tmpInput2=$("<input type='text' name='imgBase64' style='display:none;'/>");
          tmpInput2.attr("value", $("#imgBase64")[0].src);
          $('#changeLogo').append(tmpInput2);
        $.post("/device/changeLogo", $('#changeLogo').serializeArray(),
            function(data){
                $('input[name*="ip"]').remove();
                $('input[name*="imgBase64"]').remove();
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#getDeviceKey").click(function(){
        $.post("/device/getDeviceKey", {"ip":$("#zIP").val()},
            function(data){
                $("#getDeviceKeyt").val(data);
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#restartDevice").click(function(){
        $.post("/device/restartDevice", {"ip":$("#zIP").val()},
            function(data){
                $("#getDeviceKeyt").val(data);
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
    $("#deviceOpenDoorControl").click(function(){
        $.post("/device/deviceOpenDoorControl", {"ip":$("#zIP").val()},
            function(data){
                $("#getDeviceKeyt").val(data);
                $.gritter.add({
                    title: '提示',
                    text: '<p class="text-center"><h1>'+data+'</h1></p>',
                    time: 10000
            });
        });
    });
});
</script>
<script>

(function(document, window, $) {
  'use strict';
  (function() {
    var bt_data = [];
  })();
  (function() {
    $('#management').bootstrapTable({
      url: "/device/getManagement",
      search : false, //显示搜索框
      clickToSelect : true, //是否启用点击选中行
      pagination: true,
      showRefresh: true,
      showToggle: true,
      showColumns: true,
      showExport : true,
      exportDataType : "basic", //basic', 'all', 'selected'.
      iconSize: 'outline',
      cardView : false,
      smartDisplay : true,
      uniqueId : "id", //每一行的唯一标识，一般为主键列
      toolbar: '#exampleTableEventsToolbar',
      icons: {
        refresh: 'glyphicon-repeat',
        toggle: 'glyphicon-list-alt',
        columns: 'glyphicon-list'
      }
    });

    var $result = $('#examplebtTableEventsResult');

    $('#management').on('check.bs.table', function(e, name, args) {
        $("#pas").val(name.pas);
        $("#pas2").val(name.pas);
        $("#ip").val(name.ip);
        $("#zIP").val(name.ip);
        $("#gateway").val(name.ip.substring(0, name.ip.lastIndexOf('.')+1)+ "1");
      });
  })();
})(document, window, jQuery);
</script>

<script th:inline="javascript">
jQuery.DuoImgsYulan = function(file, id) {
    for (var i = 0; i < 3; i++) {
        if (!/image\/\w+/.test(file[i].type)) {
            alert("请选择图片文件");
            return false;
        }
        if (file[i].size > 2048 * 1024) {
            alert("图片不能大于2MB");
            continue;
        }
        var img;
        console.log(document.getElementById("fileImg"));
        console.log(file[i]);
        console.log("file-size=" + file[i].size);
        var reader = new FileReader();
        reader.onloadstart = function(e) {
            console.log("开始读取....");
        }
        reader.onprogress = function(e) {
            console.log("正在读取中....");
        }
        reader.onabort = function(e) {
            console.log("中断读取....");
        }
        reader.onerror = function(e) {
            console.log("读取异常....");
        }
        reader.onload = function(e) {
            console.log("成功读取....");
            var div = document.createElement("div"); //外层 div
            div.setAttribute("style", "position:relative;width:inherit;height:inherit;float:left;z-index:2;width:70px;");
            var del = document.createElement("div"); //删除按钮div
            del.setAttribute("style", " width: 20px; height:20px;border-radius:50%;")
            var delicon = document.createElement("img");
            delicon.setAttribute("src", "../a.png");
            delicon.setAttribute("title", "删除");
            delicon.setAttribute("style", "cursor:pointer;width: 30px; height:30px");
            del.onclick = function() {
                this.parentNode.parentNode.removeChild(this.parentElement);
                ClearfirtsImg();
            };
            del.appendChild(delicon);
            div.appendChild(del);
            var imgs = document.createElement("img"); //上传的图片
            imgs.setAttribute("id", "imgBase64");
            imgs.setAttribute("src", e.target.result);
            imgs.setAttribute("width", 70);
            if (document.getElementById(id).childNodes.length > 2) {
                document.getElementById(id).removeChild(document.getElementById(id).firstChild);
            }
            div.appendChild(imgs)
            document.getElementById(id).appendChild(div);
        }
        reader.readAsDataURL(file[i]);
    }
}

function FirstImg() {
    $.DuoImgsYulan(document.getElementById("FirstfileImg").files, "ccc");
}

function ClearfirtsImg() {
    var file = $("#FirstfileImg")
    file.after(file.clone().val(""));
    file.remove();
}

</script>
</body>

</html>